# =============================================================================
# НАСТРОЙКИ ВЕБ-ПРИЛОЖЕНИЯ
# =============================================================================

# =============================================================================
# НАСТРОЙКИ БАЗЫ ДАННЫХ
# =============================================================================

# URL подключения к базе данных
# Для SQLite (разработка): sqlite:///./apartment_web.db
# Для PostgreSQL (продакшн): postgresql://user:password@localhost:5432/dbname
DATABASE_URL=sqlite:///./apartment_web.db

# Настройки PostgreSQL (если используете PostgreSQL)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=apartment_web
POSTGRES_USER=your_username
POSTGRES_PASSWORD=your_password

# =============================================================================
# НАСТРОЙКИ REDIS (КЭШИРОВАНИЕ И ФОНОВЫЕ ЗАДАЧИ)
# =============================================================================

# URL подключения к Redis
# Для локального Redis: redis://localhost:6379/0
# Для облачного Redis: redis://username:password@host:port/db
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# НАСТРОЙКИ OPENAI (ИСКУССТВЕННЫЙ ИНТЕЛЛЕКТ)
# =============================================================================

# API ключ OpenAI для анализа квартир
# Получите на https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Модель OpenAI для анализа
# Рекомендуется: gpt-3.5-turbo или gpt-4
OPENAI_MODEL=gpt-3.5-turbo

# Максимальная длина токенов для анализа
OPENAI_MAX_TOKENS=500

# =============================================================================
# НАСТРОЙКИ ВЕБ-СКРАПИНГА
# =============================================================================

# Задержка между запросами к сайтам (в секундах)
# Рекомендуется: 2-5 секунд для избежания блокировки
SCRAPER_DELAY=3

# Таймаут для HTTP запросов (в секундах)
SCRAPER_TIMEOUT=30

# Максимальное количество попыток при ошибках
SCRAPER_MAX_RETRIES=3

# User-Agent для браузера
SCRAPER_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# =============================================================================
# НАСТРОЙКИ МОНИТОРИНГА
# =============================================================================

# Интервал проверки новых квартир (в секундах)
# Рекомендуется: 60-300 секунд (1-5 минут)
MONITORING_INTERVAL=120

# Максимальное количество квартир за один запрос
MONITORING_BATCH_SIZE=50

# Включить/выключить мониторинг
MONITORING_ENABLED=true

# =============================================================================
# НАСТРОЙКИ ПЛАТЕЖЕЙ (STRIPE)
# =============================================================================

# Публичный ключ Stripe
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Секретный ключ Stripe
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Вебхук секрет для Stripe
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Цена подписки в центах (например, 999 = $9.99)
SUBSCRIPTION_PRICE=999

# Валюта подписки
SUBSCRIPTION_CURRENCY=eur

# =============================================================================
# НАСТРОЙКИ АУТЕНТИФИКАЦИИ И БЕЗОПАСНОСТИ
# =============================================================================

# Секретный ключ для JWT токенов (сгенерируйте случайную строку)
JWT_SECRET_KEY=your_super_secret_jwt_key_here_make_it_long_and_random

# Время жизни JWT токена (в минутах)
JWT_EXPIRATION_TIME=60

# Алгоритм шифрования JWT
JWT_ALGORITHM=HS256

# Секретный ключ для шифрования паролей
SECRET_KEY=your_super_secret_key_for_password_hashing

# =============================================================================
# НАСТРОЙКИ EMAIL
# =============================================================================

# SMTP сервер для отправки email
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_password

# Email отправителя
MAIL_FROM=your_email@gmail.com
MAIL_FROM_NAME=ApartmentFinder

# =============================================================================
# НАСТРОЙКИ ВЕБ-СЕРВЕРА
# =============================================================================

# Хост для веб-сервера
WEB_HOST=0.0.0.0

# Порт для веб-сервера
WEB_PORT=8000

# Режим разработки (true/false)
DEBUG=true

# Окружение (development/production/testing)
ENVIRONMENT=development

# Разрешенные хосты (для production)
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# =============================================================================
# НАСТРОЙКИ ЛОГИРОВАНИЯ
# =============================================================================

# Уровень логирования
# Варианты: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Путь к файлу логов
LOG_FILE_PATH=logs/web_app.log

# Максимальный размер файла лога (в байтах)
LOG_MAX_SIZE=10485760  # 10 MB

# Количество файлов логов для хранения
LOG_BACKUP_COUNT=5

# =============================================================================
# НАСТРОЙКИ УВЕДОМЛЕНИЙ
# =============================================================================

# Максимальное количество уведомлений в день на пользователя
MAX_NOTIFICATIONS_PER_DAY=20

# Задержка между уведомлениями (в секундах)
NOTIFICATION_DELAY=5

# Включить/выключить уведомления
NOTIFICATIONS_ENABLED=true

# Тип уведомлений (email, web, both)
NOTIFICATION_TYPE=both

# =============================================================================
# НАСТРОЙКИ ПРОИЗВОДИТЕЛЬНОСТИ
# =============================================================================

# Количество воркеров для Celery
CELERY_WORKERS=4

# Максимальное количество одновременных задач
CELERY_CONCURRENCY=10

# Таймаут для задач Celery (в секундах)
CELERY_TASK_TIMEOUT=300

# Размер пула соединений с базой данных
DB_POOL_SIZE=10

# Максимальное количество соединений с базой данных
DB_MAX_OVERFLOW=20

# =============================================================================
# НАСТРОЙКИ КЭШИРОВАНИЯ
# =============================================================================

# Включить кэширование
CACHE_ENABLED=true

# Время жизни кэша (в секундах)
CACHE_TTL=3600

# Префикс для ключей кэша
CACHE_PREFIX=apartment_finder

# =============================================================================
# НАСТРОЙКИ ВНЕШНИХ API
# =============================================================================

# API ключ для Google Maps (для геокодирования)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# API ключ для погодного сервиса (опционально)
WEATHER_API_KEY=your_weather_api_key

# =============================================================================
# НАСТРОЙКИ РЕЗЕРВНОГО КОПИРОВАНИЯ
# =============================================================================

# Включить автоматическое резервное копирование
BACKUP_ENABLED=true

# Интервал резервного копирования (в часах)
BACKUP_INTERVAL=24

# Путь для сохранения резервных копий
BACKUP_PATH=./backups

# Максимальное количество резервных копий
BACKUP_MAX_COUNT=7
